const html=document.querySelector("html");let modals,modalOpenButs,handleModalOpen,handleModalClose,modalSetTimeout,openedModal,header,reviewImagesSliderConfig,openVideo,MODAL_TIME=400,changeCurrentSlideFromClick={};const defaultFractionPag=e=>({el:e,type:"fraction",formatFractionCurrent:e=>("0"+e).slice(-2),formatFractionTotal:e=>("0"+e).slice(-2),renderFraction:(e,t)=>`<span class="${e} text-text-d px-[4.5px]"></span><span>|</span><span class="${t} text-text-at px-[4.5px]"></span>`});function loadScript(e,t){var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.defer=!0,o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,t())}:o.onload=function(){t()},o.src=e,document.getElementsByTagName("head")[0].appendChild(o)}const documentHeight=()=>{document.documentElement.style.setProperty("--doc-height",window.innerHeight+"px")};function ajaxForm(e,t){e&&e.addEventListener("submit",(function(o){o.preventDefault();const n=e.querySelectorAll(".input");if(!function(){if(!e.querySelector(".checkbox").checked)return!1;function t(e,t){const o=document.createElement("div"),n=document.createTextNode(t);o.classList.add("input__errortext"),o.appendChild(n),e.appendChild(o)}return[...n].forEach(e=>{if(e.querySelector("input")&&"file"!==e.querySelector("input").type){let o=e.querySelector("input");e.classList.remove("error"),e.querySelector(".input__errortext")&&e.querySelector(".input__errortext").remove(),o.value.length>0?o.classList.contains("phone")&&16!==o.value.length&&(e.classList.add("error"),t(e,"Телефон введен неверно")):(e.classList.add("error"),t(e,"Поле должно быть заполнено"))}}),!e.querySelector(".error")}())return!1;e.getElementsByClassName("error-msg")[0].innerHTML="";let s=new XMLHttpRequest;s.open("POST",t),s.onload=function(){if(200!=s.status)alert(`������ ${s.status}: ${s.statusText}`);else{var t=JSON.parse(s.responseText);if(t.success)e.closest(".modal")?e.closest(".modal").classList.add("success"):(handleModalOpen("formSuccess"),[...n].forEach(e=>{e.querySelector("input").value=""}));else{let o="";for(let e in t.errors)o+=t.errors[e]+"<br>";e.getElementsByClassName("error-msg")[0].innerHTML=o}}},s.onerror=function(){alert("������ �� ������")},s.send(new FormData(e))}))}function ChangeDoc(e){for(var t=document.getElementsByClassName("DOCTOR_NAME"),o=0;o<t.length;++o){t[o].value=e}}function ChangeService(e){for(var t=document.getElementsByClassName("SERVICE_NAME"),o=0;o<t.length;++o){t[o].value=e}}function ChangeClinic(e){for(var t=document.getElementsByClassName("CLINIC_NAME"),o=0;o<t.length;++o){t[o].value=e}}documentHeight(),window.addEventListener("resize",documentHeight),document.addEventListener("DOMContentLoaded",()=>{modals=document.querySelectorAll(".modal"),modalOpenButs=document.querySelectorAll("[data-modal]");let e=document.querySelectorAll(".modal-close");handleModalOpen=(e,t)=>{clearTimeout(modalSetTimeout),openedModal=document.getElementById(e),modals.forEach(t=>{t.id===e&&(t.classList.add("mounted"),t.classList.add("opened"))}),html.classList.add("something-opened"),t&&(void 0!==t.dataset.modalEnablescroll&&html.classList.remove("something-opened"),t.classList.add("modal-opened"),"mobileNav"===e&&document.querySelectorAll('[data-modal="mobileNav"]').forEach(e=>e.classList.add("modal-opened")),t.dataset.modalName&&openedModal.querySelector(".modal-form-title")&&(openedModal.querySelector(".modal-form-title").innerHTML=t.dataset.modalName))},handleModalClose=(e,t,o)=>{let n=openedModal;openedModal=void 0,n.classList.remove("opened"),modalOpenButs.forEach(e=>{e.dataset.modal===n.id&&e.classList.remove("modal-opened")}),modalSetTimeout=setTimeout(()=>{html.classList.remove("something-opened"),n.classList.remove("mounted"),e&&e(t,o)},MODAL_TIME)},[...e].forEach(e=>{e.addEventListener("click",(function(e){e.preventDefault(),handleModalClose()}))}),modals.forEach(e=>{e.addEventListener("click",(function(){handleModalClose()})),e.querySelector(".modal__container")&&e.querySelector(".modal__container").addEventListener("click",(function(e){e.stopPropagation()}))}),modalOpenButs.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),e.classList.contains("modal-opened")?handleModalClose():openedModal?handleModalClose(handleModalOpen,e.dataset.modal,e):handleModalOpen(e.dataset.modal,e)})});const t=[...document.querySelectorAll(".accardeon")];t.forEach(e=>{const t=e.querySelectorAll(":scope > .accardeon-item");[...t].forEach(o=>{o.querySelector(".accardeon-item__but").addEventListener("click",n=>{n.stopPropagation(),e.classList.add("sm-opened"),o.classList.contains("opened")?(o.classList.remove("opened"),e.classList.remove("sm-opened")):(t.forEach(e=>{e.classList.remove("opened")}),o.classList.add("opened"))})}),e.addEventListener("click",(function(e){e.stopPropagation()}))}),document.addEventListener("click",(function(){t.forEach(e=>{if(!e.classList.contains("static-list")){[...e.querySelectorAll(":scope > .accardeon-item")].forEach(e=>{e.classList.remove("opened")}),e.classList.remove("sm-opened")}})}));const o=document.querySelector(".header__top");let n=window.scrollY;function s(){n>=o.clientHeight?html.classList.contains("header-close")||html.classList.add("header-close"):html.classList.contains("header-close")&&html.classList.remove("header-close")}s(),document.addEventListener("scroll",(function(){n=window.scrollY,s()})),reviewImagesSliderConfig=e=>new Swiper(e.querySelector(".swiper"),{slidesPerView:"auto",spaceBetween:12,touchMoveStopPropagation:!0,navigation:{nextEl:e.querySelector(".review-slider__button.next"),prevEl:e.querySelector(".review-slider__button.before")}});document.querySelectorAll(".review-slider").forEach(e=>{reviewImagesSliderConfig(e)});[...document.querySelectorAll(".swiper-container")].forEach(e=>{const t=e.querySelector(".swiper").dataset,o=new Swiper(e.querySelector(".swiper"),{spaceBetween:t.sliderSb??16,slidesPerView:t.sliderSpv??"auto",pagination:defaultFractionPag(e.querySelector(".swiper-controls .pagination")),autoHeight:"false"!==t.sliderAh,effect:t.sliderEffect??void 0,onAny(e,...t){"paginationUpdate"!==e&&"afterInit"!==e||this.pagination.el&&(this.pagination.el.classList.contains("swiper-pagination-lock")?this.el.closest(".swiper-container").classList.add("remove-pagination"):this.el.closest(".swiper-container").classList.remove("remove-pagination"))},navigation:{prevEl:e.querySelector(".swiper-controls .prev"),nextEl:e.querySelector(".swiper-controls .next")},breakpoints:{768:{slidesPerView:t.sliderMdSpv??2,spaceBetween:t.sliderMdSb??16},1294:{slidesPerView:t.sliderXlSpv??3,spaceBetween:t.sliderXlSb??30}}});if(e.classList.contains("swiper-with-count")){e.querySelectorAll(".swiper-slide").forEach((e,t)=>{e.innerHTML+=`<span class="absolute right-5 top-5 text-bg-white" style='font-size: 38px; font-weight: 700; line-height: 42px; letter-spacing: 0.02em;' >${t>9?t+1:"0"+t+1}</span>`})}t.sliderCanChangeFromDoc&&(changeCurrentSlideFromClick[e.getAttribute("id")]=function(e){o.slideTo(e)})});[...document.querySelectorAll(".sst")].forEach(e=>{const t=e.querySelectorAll(".sst-tabs > *"),o=e.querySelectorAll(".sst-slides > *");t[0].classList.add("selected"),o[0].classList.add("selected"),[...t].forEach((e,n)=>{e.addEventListener("click",(function(e){e.preventDefault();for(let e=0;e<t.length;e++)t[e].classList.remove("selected"),o[e].classList.remove("selected");this.classList.add("selected"),o[n].classList.add("selected")}))})});document.querySelectorAll(".navigation-on-site").forEach(e=>{const t=e.querySelectorAll(".navigation-on-site__el");function o(){t.forEach(e=>{e.classList.remove("opened")})}t.forEach(e=>{const t=e.querySelector(".navigation-on-site__but"),n=e.querySelector(".navigation-on-site__body__heading__close");t.addEventListener("click",(function(){e.classList.contains("opened")?e.classList.remove("opened"):(o(),e.classList.add("opened"))})),n&&n.addEventListener("click",(function(){o()}))})}),[...document.querySelectorAll(".local-header-services-search")].forEach(e=>{const t=e.querySelector(".local-header-services-search__form"),o=e.querySelector(".local-header-services-search__input"),n=[...e.querySelectorAll(".navigation-on-site__body__list a")],s=e.querySelector(".local-header-services-search__result");t.addEventListener("submit",(function(e){e.preventDefault();const t=[...n.filter(e=>e.innerText.toLowerCase().includes(o.value.toLowerCase()))];t.length>0?(s.innerHTML="",t.forEach(e=>{s.appendChild(e.cloneNode(!0))})):s.innerHTML='<span class="text-body1 text-el-it">Ничего не найдено</span>'}))});const l=document.querySelectorAll(".tabs");for(const e of l)e.style.gridTemplateColumns=`repeat(${e.querySelectorAll(".tab").length}, minmax(0, 1fr))`;(()=>{var e,t,o,n,s,l,a,r,c,i;for(n=(e=document.getElementsByClassName("custom-select")).length,t=0;t<n;t++){let n=e[t].getElementsByTagName("select")[0];const u=n.hasAttribute("multiple");for(s=n.length,(l=document.createElement("DIV")).setAttribute("class","select-selected"),(c=document.createElement("SPAN")).innerHTML=n.options[n.selectedIndex]?n.options[n.selectedIndex].innerHTML:"Выбрать...",e[t].appendChild(l),l.appendChild(c),c.outerHTML+='<svg width=\'24px\' height="24px" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.96967 8.96967C4.26256 8.67678 4.73744 8.67678 5.03033 8.96967L12 15.9393L18.9697 8.96967C19.2626 8.67678 19.7374 8.67678 20.0303 8.96967C20.3232 9.26256 20.3232 9.73744 20.0303 10.0303L12.5303 17.5303C12.2374 17.8232 11.7626 17.8232 11.4697 17.5303L3.96967 10.0303C3.67678 9.73744 3.67678 9.26256 3.96967 8.96967Z"/></svg>',a=document.createElement("DIV"),i=document.createElement("DIV"),a.setAttribute("class","select-items select-hide"),i.setAttribute("class","select-items__items"),o=0;o<s;o++)(r=document.createElement("DIV")).innerHTML=n.options[o].innerHTML,o===n.selectedIndex&&r.setAttribute("class","same-as-selected"),r.addEventListener("click",(function(e){var t,o,n,s,l,a,r;for(e.stopPropagation(),a=(s=this.parentNode.parentNode.parentNode.getElementsByTagName("select")[0]).length,l=this.parentNode.parentNode.previousSibling.querySelector("span"),o=0;o<a;o++)if(s.options[o].innerHTML==this.innerHTML){if(u){for(s.options[o].selected?(s.options[o].selected=!1,this.removeAttribute("class","same-as-selected")):(s.options[o].selected=!0,this.setAttribute("class","same-as-selected")),l.innerHTML="",t=0;t<a;t++)s.options[t].selected&&(l.innerHTML.length>0?l.innerHTML=l.innerHTML+", "+s.options[t].innerHTML:l.innerHTML=""+s.options[t].innerHTML);l.innerHTML.length<1&&(l.innerHTML="Выбрать...");break}for(s.selectedIndex=o,l.innerHTML=this.innerHTML,r=(t=this.parentNode.getElementsByClassName("same-as-selected")).length,n=0;n<r;n++)t[n].removeAttribute("class");this.setAttribute("class","same-as-selected");break}this.closest(".off-submit")||u||this.closest("form").submit(),u||l.click()})),i.appendChild(r);e[t].appendChild(a),a.appendChild(i),l.addEventListener("click",(function(e){e.stopPropagation(),d(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})),e[t].addEventListener("click",(function(e){e.stopPropagation()}))}function d(e){var t,o,n,s,l,a=[];for(t=document.getElementsByClassName("select-items"),o=document.getElementsByClassName("select-selected"),s=t.length,l=o.length,n=0;n<l;n++)e==o[n]?a.push(n):o[n].classList.remove("select-arrow-active");for(n=0;n<s;n++)a.indexOf(n)&&t[n].classList.add("select-hide")}document.addEventListener("click",d)})();const a=document.querySelectorAll("[data-scrollto]"),r=document.querySelector(".header");a.forEach(e=>{let t=e.dataset.scrollto;t&&e.addEventListener("click",e=>{e.preventDefault();const o=-r.clientHeight,n=document.getElementById(t).getBoundingClientRect().top+window.scrollY+o;window.scrollTo({top:n,behavior:"smooth"})})});[...document.querySelectorAll(".phone")].forEach(e=>{IMask(e,{mask:"+{7}(000)000-00-00"})}),openVideo=e=>{let t=e;t.includes("/video/")&&(t=t.replace("/video/","/play/embed/"));document.getElementById("videoIframe").setAttribute("src",t),Fancybox.show([{src:"#videoIframe"}])},Fancybox.bind("[data-fancybox]",{contentClick:"toggleCover",Images:{Panzoom:{panMode:"mousemove",mouseMoveFactor:1.1,mouseMoveFriction:.12}}});const c=document.querySelectorAll(".search-on-site-header"),i=document.querySelectorAll(".search-on-site-header input"),d=JSON.parse(localStorage.getItem("searchHistory"))??[],u=document.getElementById("searchOnSiteInputHeader"),m=document.getElementById("headerClearHistorySearch"),p=document.getElementById("historySearch");for(let e=d.length-1;e>d.length-6;e--)if(e>=0){const t=document.createElement("button");t.innerText=d[e],p.appendChild(t)}[...c].forEach((e,t)=>{e.addEventListener("submit",(function(){i[t].value&&(d.push(i[t].value),localStorage.setItem("searchHistory",JSON.stringify(d)))}))}),m&&m.addEventListener("click",(function(){d.splice(0,d.length),localStorage.removeItem("searchHistory"),p.innerHTML=""}));[...document.querySelectorAll(".insert-in-search > *")].forEach(e=>{e.addEventListener("click",(function(){u.value=e.innerHTML}))});const h=document.querySelectorAll(".btn-share"),f=window.location.href,v=document.title;[...h].forEach(e=>{navigator.share?e.addEventListener("click",(function(){navigator.share({title:v,url:f}).then(()=>{console.log("Thanks for sharing!")}).catch(console.error)})):(e.remove(),console.log("Web Share API не поддерживается"))});[...document.querySelectorAll(".CLINIC_NAME")].forEach(e=>{f.includes("/solncevo/")?e.value="Солнцево":f.includes("/podolsk/")?e.value="Подольск":f.includes("/mytishchi/")&&(e.value="Мытищи")})});
//# sourceMappingURL=../sourcemaps/main.min.js.map
