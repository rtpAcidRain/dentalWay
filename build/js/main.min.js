const html=document.querySelector("html");let modals,modalOpenButs,handleModalOpen,handleModalClose,modalSetTimeout,openedModal,header,reviewImagesSliderConfig,openVideo,MODAL_TIME=400;const defaultFractionPag=e=>({el:e,type:"fraction",formatFractionCurrent:e=>("0"+e).slice(-2),formatFractionTotal:e=>("0"+e).slice(-2),renderFraction:(e,t)=>`<span class="${e} text-text-d px-[4.5px]"></span><span>|</span><span class="${t} text-text-at px-[4.5px]"></span>`}),documentHeight=()=>{document.documentElement.style.setProperty("--doc-height",window.innerHeight+"px")};function ajaxForm(e,t){e&&e.addEventListener("submit",(function(o){o.preventDefault();const s=e.querySelectorAll(".input");if(!function(){if(!e.querySelector(".checkbox").checked)return!1;const t=/\+\d{1}\(\d{3}\)\d{3}-\d{2}-\d{2}/g;let o=!0;function n(e,t){const o=document.createElement("div"),s=document.createTextNode(t);o.classList.add("input__errortext"),o.appendChild(s),e.appendChild(o)}return[...s].forEach(e=>{if(e.querySelector("input")&&"file"!==e.querySelector("input").type){let l=e.querySelector("input");e.classList.remove("error"),e.querySelector(".input__errortext")&&e.querySelector(".input__errortext").remove(),l.value.length>0?l.classList.contains("phone")&&(s=l.value,o=!!t.test(s),o||(e.classList.add("error"),n(e,"Телефон введен неверно"))):(e.classList.add("error"),n(e,"Поле должно быть заполнено"))}var s}),!e.querySelector(".error")}())return!1;e.getElementsByClassName("error-msg")[0].innerHTML="";let n=new XMLHttpRequest;n.open("POST",t),n.onload=function(){if(200!=n.status)alert(`������ ${n.status}: ${n.statusText}`);else{var t=JSON.parse(n.responseText);if(t.success)e.closest(".modal")?e.closest(".modal").classList.add("success"):(handleModalOpen("formSuccess"),[...s].forEach(e=>{e.querySelector("input").value=""}));else{let o="";for(let e in t.errors)o+=t.errors[e]+"<br>";e.getElementsByClassName("error-msg")[0].innerHTML=o}}},n.onerror=function(){alert("������ �� ������")},n.send(new FormData(e))}))}function ChangeDoc(e){for(var t=document.getElementsByClassName("DOCTOR_NAME"),o=0;o<t.length;++o){t[o].value=e}}function ChangeService(e){for(var t=document.getElementsByClassName("SERVICE_NAME"),o=0;o<t.length;++o){t[o].value=e}}function ChangeClinic(e){for(var t=document.getElementsByClassName("CLINIC_NAME"),o=0;o<t.length;++o){t[o].value=e}}documentHeight(),window.addEventListener("resize",documentHeight),document.addEventListener("DOMContentLoaded",()=>{modals=document.querySelectorAll(".modal"),modalOpenButs=document.querySelectorAll("[data-modal]");let e=document.querySelectorAll(".modal-close");handleModalOpen=(e,t)=>{clearTimeout(modalSetTimeout),openedModal=document.getElementById(e),modals.forEach(t=>{t.id===e&&(t.classList.add("mounted"),t.classList.add("opened"))}),html.classList.add("something-opened"),t&&(void 0!==t.dataset.modalEnablescroll&&html.classList.remove("something-opened"),t.classList.add("modal-opened"),"mobileNav"===e&&document.querySelectorAll('[data-modal="mobileNav"]').forEach(e=>e.classList.add("modal-opened")),t.dataset.modalName&&openedModal.querySelector(".modal-form-title")&&(openedModal.querySelector(".modal-form-title").innerHTML=t.dataset.modalName))},handleModalClose=(e,t,o)=>{let s=openedModal;openedModal=void 0,s.classList.remove("opened"),modalOpenButs.forEach(e=>{e.dataset.modal===s.id&&e.classList.remove("modal-opened")}),modalSetTimeout=setTimeout(()=>{html.classList.remove("something-opened"),s.classList.remove("mounted"),e&&e(t,o)},MODAL_TIME)},[...e].forEach(e=>{e.addEventListener("click",(function(e){e.preventDefault(),handleModalClose()}))}),modals.forEach(e=>{e.addEventListener("click",(function(){handleModalClose()})),e.querySelector(".modal__container")&&e.querySelector(".modal__container").addEventListener("click",(function(e){e.stopPropagation()}))}),modalOpenButs.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),e.classList.contains("modal-opened")?handleModalClose():openedModal?handleModalClose(handleModalOpen,e.dataset.modal,e):handleModalOpen(e.dataset.modal,e)})});const t=[...document.querySelectorAll(".accardeon")];t.forEach(e=>{const t=e.querySelectorAll(":scope > .accardeon-item");[...t].forEach(o=>{o.querySelector(".accardeon-item__but").addEventListener("click",s=>{s.stopPropagation(),e.classList.add("sm-opened"),o.classList.contains("opened")?(o.classList.remove("opened"),e.classList.remove("sm-opened")):(t.forEach(e=>{e.classList.remove("opened")}),o.classList.add("opened"))})}),e.addEventListener("click",(function(e){e.stopPropagation()}))}),document.addEventListener("click",(function(){t.forEach(e=>{if(!e.classList.contains("static-list")){[...e.querySelectorAll(":scope > .accardeon-item")].forEach(e=>{e.classList.remove("opened")}),e.classList.remove("sm-opened")}})}));const o=document.querySelector(".header__top");let s=window.scrollY;function n(){s>=o.clientHeight?html.classList.contains("header-close")||html.classList.add("header-close"):html.classList.contains("header-close")&&html.classList.remove("header-close")}n(),document.addEventListener("scroll",(function(){s=window.scrollY,n()})),reviewImagesSliderConfig=e=>new Swiper(e.querySelector(".swiper"),{slidesPerView:"auto",spaceBetween:12,touchMoveStopPropagation:!0,navigation:{nextEl:e.querySelector(".review-slider__button.next"),prevEl:e.querySelector(".review-slider__button.before")}});document.querySelectorAll(".review-slider").forEach(e=>{reviewImagesSliderConfig(e)});[...document.querySelectorAll(".swiper-container")].forEach(e=>{new Swiper(e.querySelector(".swiper"),{spaceBetween:e.querySelector(".swiper").dataset.sliderSb??16,slidesPerView:e.querySelector(".swiper").dataset.sliderSpv??"auto",pagination:defaultFractionPag(e.querySelector(".swiper-controls .pagination")),autoHeight:"false"!==e.querySelector(".swiper").dataset.sliderAh,onAny(e,...t){"paginationUpdate"!==e&&"afterInit"!==e||(this.pagination.el.classList.contains("swiper-pagination-lock")?this.el.closest(".swiper-container").classList.add("remove-pagination"):this.el.closest(".swiper-container").classList.remove("remove-pagination"))},navigation:{prevEl:e.querySelector(".swiper-controls .prev"),nextEl:e.querySelector(".swiper-controls .next")},breakpoints:{768:{slidesPerView:e.querySelector(".swiper").dataset.sliderMdSpv??2,spaceBetween:e.querySelector(".swiper").dataset.sliderMdSb??16},1366:{spaceBetween:e.querySelector(".swiper").dataset.sliderXlSb??30,slidesPerView:e.querySelector(".swiper").dataset.sliderXlSpv??3}}});if(e.classList.contains("swiper-with-count")){e.querySelectorAll(".swiper-slide").forEach((e,t)=>{e.innerHTML+=`<span class="absolute right-5 top-5 text-bg-white" style='font-size: 38px; font-weight: 700; line-height: 42px; letter-spacing: 0.02em;' >0${t+1}</span>`})}});[...document.querySelectorAll(".sst")].forEach(e=>{const t=e.querySelectorAll(".sst-tabs > *"),o=e.querySelectorAll(".sst-slides > *");t[0].classList.add("selected"),o[0].classList.add("selected"),[...t].forEach((e,s)=>{e.addEventListener("click",(function(e){e.preventDefault();for(let e=0;e<t.length;e++)t[e].classList.remove("selected"),o[e].classList.remove("selected");this.classList.add("selected"),o[s].classList.add("selected")}))})});document.querySelectorAll(".navigation-on-site").forEach(e=>{const t=e.querySelectorAll(".navigation-on-site__el");function o(){t.forEach(e=>{e.classList.remove("opened")})}t.forEach(e=>{const t=e.querySelector(".navigation-on-site__but"),s=e.querySelector(".navigation-on-site__body__heading__close");t.addEventListener("click",(function(){e.classList.contains("opened")?e.classList.remove("opened"):(o(),e.classList.add("opened"))})),s&&s.addEventListener("click",(function(){o()}))})}),[...document.querySelectorAll(".local-header-services-search")].forEach(e=>{const t=e.querySelector(".local-header-services-search__form"),o=e.querySelector(".local-header-services-search__input"),s=[...e.querySelectorAll(".navigation-on-site__body__list a")],n=e.querySelector(".local-header-services-search__result");t.addEventListener("submit",(function(e){e.preventDefault();const t=[...s.filter(e=>e.innerText.toLowerCase().includes(o.value.toLowerCase()))];t.length>0?(n.innerHTML="",t.forEach(e=>{n.appendChild(e.cloneNode(!0))})):n.innerHTML='<span class="text-body1 text-el-it">Ничего не найдено</span>'}))});const l=document.querySelectorAll(".tabs");for(const e of l)e.style.gridTemplateColumns=`repeat(${e.querySelectorAll(".tab").length}, minmax(0, 1fr))`;(()=>{var e,t,o,s,n,l,a,r,c,i,d;for(s=(e=document.getElementsByClassName("custom-select")).length,t=0;t<s;t++){for(n=(l=e[t].getElementsByTagName("select")[0]).length,(a=document.createElement("DIV")).setAttribute("class","select-selected"),(i=document.createElement("SPAN")).innerHTML=l.options[l.selectedIndex].innerHTML,e[t].appendChild(a),a.appendChild(i),i.outerHTML+='<svg width=\'24px\' height="24px" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.96967 8.96967C4.26256 8.67678 4.73744 8.67678 5.03033 8.96967L12 15.9393L18.9697 8.96967C19.2626 8.67678 19.7374 8.67678 20.0303 8.96967C20.3232 9.26256 20.3232 9.73744 20.0303 10.0303L12.5303 17.5303C12.2374 17.8232 11.7626 17.8232 11.4697 17.5303L3.96967 10.0303C3.67678 9.73744 3.67678 9.26256 3.96967 8.96967Z"/></svg>',r=document.createElement("DIV"),d=document.createElement("DIV"),r.setAttribute("class","select-items select-hide"),d.setAttribute("class","select-items__items"),o=0;o<n;o++)(c=document.createElement("DIV")).innerHTML=l.options[o].innerHTML,o===l.selectedIndex&&c.setAttribute("class","same-as-selected"),c.addEventListener("click",(function(e){var t,o,s,n,l,a,r;for(e.stopPropagation(),a=(n=this.parentNode.parentNode.parentNode.getElementsByTagName("select")[0]).length,l=this.parentNode.parentNode.previousSibling.querySelector("span"),o=0;o<a;o++)if(n.options[o].innerHTML==this.innerHTML){for(n.selectedIndex=o,l.innerHTML=this.innerHTML,r=(t=this.parentNode.getElementsByClassName("same-as-selected")).length,s=0;s<r;s++)t[s].removeAttribute("class");this.setAttribute("class","same-as-selected");break}this.closest("form").submit(),l.click()})),d.appendChild(c);e[t].appendChild(r),r.appendChild(d),a.addEventListener("click",(function(e){e.stopPropagation(),u(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})),e[t].addEventListener("click",(function(e){e.stopPropagation()}))}function u(e){var t,o,s,n,l,a=[];for(t=document.getElementsByClassName("select-items"),o=document.getElementsByClassName("select-selected"),n=t.length,l=o.length,s=0;s<l;s++)e==o[s]?a.push(s):o[s].classList.remove("select-arrow-active");for(s=0;s<n;s++)a.indexOf(s)&&t[s].classList.add("select-hide")}document.addEventListener("click",u)})();const a=document.querySelectorAll("[data-scrollto]"),r=document.querySelector(".header");a.forEach(e=>{let t=e.dataset.scrollto;t&&e.addEventListener("click",e=>{e.preventDefault();const o=-r.clientHeight,s=document.getElementById(t).getBoundingClientRect().top+window.scrollY+o;window.scrollTo({top:s,behavior:"smooth"})})});[...document.querySelectorAll(".phone")].forEach(e=>{IMask(e,{mask:"+{7}(000)000-00-00"})}),openVideo=e=>{let t=e;t.includes("/video/")&&(t=t.replace("/video/","/play/embed/"));document.getElementById("videoIframe").setAttribute("src",t),Fancybox.show([{src:"#videoIframe"}])},Fancybox.bind("[data-fancybox]",{contentClick:"toggleCover",Images:{Panzoom:{panMode:"mousemove",mouseMoveFactor:1.1,mouseMoveFriction:.12}}});const c=document.querySelectorAll(".search-on-site-header"),i=document.querySelectorAll(".search-on-site-header input"),d=JSON.parse(localStorage.getItem("searchHistory"))??[],u=document.getElementById("searchOnSiteInputHeader"),m=document.getElementById("headerClearHistorySearch"),p=document.getElementById("historySearch");for(let e=d.length-1;e>d.length-6;e--)if(e>=0){const t=document.createElement("button");t.innerText=d[e],p.appendChild(t)}[...c].forEach((e,t)=>{e.addEventListener("submit",(function(){i[t].value&&(d.push(i[t].value),localStorage.setItem("searchHistory",JSON.stringify(d)))}))}),m&&m.addEventListener("click",(function(){d.splice(0,d.length),localStorage.removeItem("searchHistory"),p.innerHTML=""}));[...document.querySelectorAll(".insert-in-search > *")].forEach(e=>{e.addEventListener("click",(function(){u.value=e.innerHTML}))})});
//# sourceMappingURL=../sourcemaps/main.min.js.map
